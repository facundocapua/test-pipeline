#!/usr/bin/env groovy

import com.cwctravel.hudson.plugins.extended_choice_parameter.ExtendedChoiceParameterDefinition

node
{
    stage ("Setup")
    {
        List params = []
        List props = []
    
        def multiSelect= new ExtendedChoiceParameterDefinition("name", 
            "PT_MULTI_SELECT", 
            "blue,green,yellow,blue", 
            "project name",
            "", 
            "",
            "", 
            "", 
            "", 
            "", 
            "", 
            "", 
            "", 
            "", 
            "", 
            "", 
            "", 
            "blue,green,yellow,blue", 
            "", 
            "", 
            "", 
            "", 
            "", 
            "", 
            "", 
            "", 
            false,
            false, 
            3, 
            "multiselect", 
            ",") 
    
        params << booleanParam(name: 'BOOLX', defaultValue: true, description: '')
        params << multiSelect
        //params << Inst2

        props << parameters(params)
        properties(props)
    }

    stage("T1")
    {
        echo "Value ${DDX}"
    }
    
    stage("T2")
    {
        echo "Value ${DDY}"
    }                        
}